!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("regularjs")):"function"==typeof define&&define.amd?define(["Regular"],e):"object"==typeof exports?exports.RGUI=e(require("regularjs")):t.RGUI=e(t.Regular)}(this,function(t){return function(t){function e(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){a(1),t.exports=a(1)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var o=a(8);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=a(14);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e._=e.Component=void 0;var o=a(3),i=n(o),r=a(7),s=n(r);e.Component=i["default"],e._=s["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(4),i=n(o),r=a(5),s=n(r),d=a(6),l=n(d),u=a(7),c=n(u),f=i["default"].extend({config:function(){this.defaults({readonly:!1,disabled:!1,visible:!0,"class":""}),this.supr()},defaults:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return c["default"].defaults.apply(c["default"],[this.data].concat(e))},watch:function(){}}).filter(s["default"]).directive(l["default"]);e["default"]=f},function(e,a){e.exports=t},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};a.dateFormat=function(){var t=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return t+="",t.length<=1?"0"+t:t},e={yyyy:function(t){return t.getFullYear()},MM:function(e){return t(e.getMonth()+1)},dd:function(e){return t(e.getDate())},HH:function(e){return t(e.getHours())},mm:function(e){return t(e.getMinutes())},ss:function(e){return t(e.getSeconds())}},a=new RegExp(Object.keys(e).join("|"),"g");return function(t){var n=arguments.length<=1||void 0===arguments[1]?"yyyy-MM-dd HH:mm":arguments[1];return t?(t=new Date(t),n.replace(a,function(a){return e[a]?e[a](t):""})):""}}(),a.format=function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return a[e+"Format"].apply(a,[t].concat(o))},e["default"]=a},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),i=n(o),r={};r["z-crt"]=i["default"].createBoolClassDirective("z-crt"),r["z-sel"]=i["default"].createBoolClassDirective("z-sel"),r["z-chk"]=i["default"].createBoolClassDirective("z-chk"),r["z-act"]=i["default"].createBoolClassDirective("z-act"),r["z-dis"]=i["default"].createBoolClassDirective("z-dis"),r["r-show"]=i["default"].createBoolDirective(function(t,e){t.style.display=e?"block":""}),r["r-autofocus"]=i["default"].createBoolDirective(function(t,e){e&&setTimeout(function(){return t.focus()},0)}),e["default"]=r},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=a(4),i={defaults:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];return a.forEach(function(e){for(var a in e)e.hasOwnProperty(a)&&void 0===t[a]&&(t[a]=e[a])}),t},createBoolDirective:function(t){return function(e,a){var o=this;"object"===("undefined"==typeof a?"undefined":n(a))&&"expression"===a.type?this.$watch(a,function(a,n){!a!=!n&&t.call(o,e,a)}):(a||""===a)&&t.call(this,e,!0)}},createBoolClassDirective:function(t){return i.createBoolDirective(function(e,a){o.dom[a?"addClass":"delClass"](e,t)})}};e["default"]=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Movable=e.Droppable=e.Draggable=void 0;var o=a(9),i=n(o),r=a(12),s=n(r),d=a(13),l=n(d);e.Draggable=i["default"],e.Droppable=s["default"],e.Movable=l["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),i=a(10),r=n(i),s=a(4),d=o.Component.extend({name:"draggable",template:"{#inc this.$body}",config:function(){this.defaults({proxy:"clone",value:void 0,"class":"z-draggable",sourceClass:"z-dragSource",proxyClass:"z-dragProxy"}),this.supr(),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this.cancel=this.cancel.bind(this)},init:function(){var t=this,e=s.dom.element(this);s.dom.on(e,"mousedown",this._onMouseDown),this.supr(),this.$watch("disabled",function(a){return s.dom[a?"delClass":"addClass"](e,t.data["class"])})},_getProxy:function(){var t=void 0,e=s.dom.element(this);if("function"==typeof this.data.proxy)t=this.data.proxy();else if(this.data.proxy instanceof Element)t=this.data.proxy;else if("self"===this.data.proxy)t=e;else if("clone"===this.data.proxy){t=e.cloneNode(!0),this._setProxyFixed(t,s.dom.getPosition(e));var a=s.dom.getSize(e);t.style.width=a.width+"px",t.style.height=a.height+"px",e.parentElement.appendChild(t)}else this.data.proxy instanceof d.Proxy&&(t=s.dom.element(this.data.proxy.$body()),this._setProxyFixed(t,s.dom.getPosition(e)),document.body.appendChild(t));return t&&this._initProxy(t),t},_setProxyFixed:function(t){var e=arguments.length<=1||void 0===arguments[1]?{left:0,top:0}:arguments[1];t.style.left=e.left+"px",t.style.top=e.top+"px",t.style.zIndex="9999",t.style.position="fixed",t.style.display=""},_initProxy:function(t){"static"===s.dom.getComputedStyle(t,"position")&&(t.style.position="relative")},_onMouseDown:function(t){if(!this.data.disabled){var e=t.event;t.preventDefault(),Object.assign(r["default"],{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,startX:e.clientX,startY:e.clientY,dragX:0,dragY:0}),s.dom.on(window,"mousemove",this._onMouseMove),s.dom.on(window,"mouseup",this._onMouseUp)}},_onMouseMove:function(t){var e=t.event;t.preventDefault(),Object.assign(r["default"],{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,dragX:e.clientX-r["default"].startX,dragY:e.clientY-r["default"].startY}),r["default"].dragging===!1?this._onMouseMoveStart(e):this._onMouseMoving(e)},_onMouseMoveStart:function(t,e){var a=this._getProxy(),n=a?s.dom.getComputedStyle(a):{};n.left&&"auto"!==n.left||(n.left="0px"),n.top&&"auto"!==n.top||(n.top="0px"),Object.assign(r["default"],{dragging:!0,proxy:a,value:this.data.value,startLeft:+n.left.slice(0,-2),startTop:+n.top.slice(0,-2),droppable:void 0}),r["default"].left=r["default"].startLeft,r["default"].top=r["default"].startTop,!e&&this._dragStart()},_onMouseMoving:function(t){var e=this.restrict(r["default"]);if(r["default"].proxy&&(r["default"].proxy.style.left=e.left+"px",r["default"].proxy.style.top=e.top+"px"),r["default"].left=e.left,r["default"].top=e.top,this._drag(),r["default"].dragging){var a=null;r["default"].proxy?(r["default"].proxy.style.display="none",a=document.elementFromPoint(t.clientX,t.clientY),r["default"].proxy.style.display=""):a=document.elementFromPoint(t.clientX,t.clientY);for(var n=null;a&&!(n=r["default"].droppables.find(function(t){return s.dom.element(t)===a}));)a=a.parentElement;if(r["default"].droppable!==n){if(r["default"].droppable&&r["default"].droppable._dragLeave(this),!r["default"].dragging)return;if(n&&n._dragEnter(this),!r["default"].dragging)return;r["default"].droppable=n}n&&n._dragOver(this)}},restrict:function(t){return{left:t.startLeft+t.dragX,top:t.startTop+t.dragY}},_onMouseUp:function(t){r["default"].dragging&&(r["default"].droppable&&r["default"].droppable._drop(this),this.cancel()),s.dom.off(window,"mousemove",this._onMouseMove),s.dom.off(window,"mouseup",this._onMouseUp)},cancel:function(){this._dragEnd(),Object.assign(r["default"],{dragging:!1,value:void 0,proxy:void 0,range:void 0,screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,startX:0,startY:0,dragX:0,dragY:0,startLeft:0,startTop:0,left:0,top:0,droppable:void 0})},_dragStart:function(){var t=s.dom.element(this);s.dom.addClass(t,this.data.sourceClass),r["default"].proxy&&s.dom.addClass(r["default"].proxy,this.data.proxyClass),this.$emit("dragstart",Object.assign({sender:this,origin:this,source:t,cancel:this.cancel},r["default"]))},_drag:function(){this.$emit("drag",Object.assign({sender:this,origin:this,source:s.dom.element(this),cancel:this.cancel},r["default"]))},_dragEnd:function(){var t=null!==this._watchers?s.dom.element(this):null;t&&s.dom.delClass(t,this.data.sourceClass),this.$emit("dragend",Object.assign({sender:this,origin:this,source:t},r["default"])),r["default"].proxy&&((this.data.proxy instanceof d.Proxy||"clone"===this.data.proxy)&&r["default"].proxy.parentElement.removeChild(r["default"].proxy),s.dom.delClass(r["default"].proxy,this.data.proxyClass))}});d.Proxy=o.Component.extend({name:"draggable.proxy",init:function(){this.$outer instanceof d&&(this.$outer.data.proxy=this)}}),e["default"]=d},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(11);var n={dragging:!1,value:void 0,proxy:void 0,screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,startX:0,startY:0,dragX:0,dragY:0,startLeft:0,startTop:0,dragLeft:0,dragTop:0,droppable:void 0,droppables:[]};e["default"]=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4);Object.assign(n.dom,{getPosition:function(t){var e=t&&t.ownerDocument,a=e.documentElement,n=e.body,o=t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0},i=a.clientLeft||n.clientLeft||0,r=a.clientTop||n.clientTop||0;return{left:o.left-i,top:o.top-r}},getSize:function(t){var e=arguments.length<=1||void 0===arguments[1]?"outside":arguments[1];return"inside"===e?{width:t.clientWidth,height:t.clientHeight}:"center"===e?{width:(t.clientWidth+t.offsetWidth)/2,height:(t.offsetHeight+t.clientHeight)/2}:"outside"===e?{width:t.offsetWidth,height:t.offsetHeight}:void 0},getDimension:function(t,e){return Object.assign(this.getSize(t,e),this.getPosition(t))},isInRect:function(t,e){return!(!t||!e)&&(t.left>e.left&&t.left<e.left+e.width&&t.top>e.top&&t.top<e.top+e.height)},getComputedStyle:function(t,e){var a=t.currentStyle||window.getComputedStyle(t,null);return e?a[e]:a}}),e["default"]=n.dom},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),i=a(10),r=n(i),s=a(4),d=o.Component.extend({name:"droppable",template:"{#inc this.$body}",config:function(){this.defaults({data:null,"class":"z-droppable",dragTarget:"z-dragTarget"}),this.supr(),r["default"].droppables.push(this)},init:function(){var t=this,e=s.dom.element(this);this.$watch("disabled",function(a){return s.dom[a?"delClass":"addClass"](e,t.data["class"])}),this.supr()},destroy:function(){r["default"].droppables.splice(r["default"].droppables.indexOf(this),1),this.supr()},_dragEnter:function(t){var e=s.dom.element(this);s.dom.addClass(e,this.data.dragTarget),this.$emit("dragenter",Object.assign({sender:this,origin:t,source:s.dom.element(t),target:e,cancel:t.cancel},r["default"]))},_dragLeave:function(t){var e=s.dom.element(this);s.dom.delClass(e,this.data.dragTarget),this.$emit("dragleave",Object.assign({sender:this,origin:t,source:s.dom.element(t),target:e,cancel:t.cancel},r["default"]))},_dragOver:function(t){var e=s.dom.element(this),a=s.dom.getDimension(e);this.$emit("dragover",Object.assign({sender:this,origin:t,source:s.dom.element(t),target:e,ratioX:(r["default"].clientX-a.left)/a.width,ratioY:(r["default"].clientY-a.top)/a.height,cancel:t.cancel},r["default"]))},_drop:function(t){var e=s.dom.element(this);s.dom.delClass(e,this.data.dragTarget);var a=s.dom.getDimension(e);this.data.value=t.data.value,this.$update(),this.$emit("drop",Object.assign({sender:this,origin:t,source:s.dom.element(t),target:e,ratioX:(r["default"].clientX-a.left)/a.width,ratioY:(r["default"].clientY-a.top)/a.height},r["default"]))}});e["default"]=d},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=a(9),r=n(i),s=a(10),d=n(s),l=a(4),u=r["default"].extend({name:"movable",template:"{#inc this.$body}",config:function(){this.defaults({proxy:"self",axis:"both",grid:{x:0,y:0},range:void 0,rangeMode:"inside"}),this.supr()},_getRange:function(t){var e=void 0;if("object"===o(this.data.range))e=this.data.range;else if("function"==typeof this.data.range)e=this.data.range();else if("offsetParent"===this.data.range){"absolute"!==l.dom.getComputedStyle(t,"position")&&(t.style.position="absolute");var a=t.offsetParent;e=Object.assign({left:0,top:0},l.dom.getSize(a,this.data.rangeMode))}else"window"===this.data.range&&("fixed"!==l.dom.getComputedStyle(t,"position")&&(t.style.position="fixed"),e={left:0,top:0,width:window.innerWidth,height:window.innerHeight});return e&&(void 0!==e.width&&void 0!==e.height?(e.right=e.left+e.width,e.bottom=e.top+e.height):void 0!==e.right&&void 0!==e.bottom&&(e.width=e.right-e.left,e.height=e.bottom-e.top)),e},_onMouseMoveStart:function(t){this.supr(t,!0),d["default"].proxy&&(d["default"].range=this._getRange(d["default"].proxy)),this._dragStart()},restrict:function(t){var e=this.supr(t);t.range&&("inside"===this.data.rangeMode?(e.left=Math.min(Math.max(t.range.left,e.left),t.range.right-d["default"].proxy.offsetWidth),e.top=Math.min(Math.max(t.range.top,e.top),t.range.bottom-d["default"].proxy.offsetHeight)):"center"===this.data.rangeMode?(e.left=Math.min(Math.max(t.range.left,e.left),t.range.right),e.top=Math.min(Math.max(t.range.top,e.top),t.range.bottom)):"outside"===this.data.rangeMode&&(e.left=Math.min(Math.max(t.range.left-d["default"].proxy.offsetWidth,e.left),t.range.right),e.top=Math.min(Math.max(t.range.top-d["default"].proxy.offsetHeight,e.top),t.range.bottom)));var a=this.data.grid;return a.x&&(e.left=Math.round(e.left/a.x)*a.x),a.y&&(e.top=Math.round(e.top/a.y)*a.y),"vertical"===this.data.axis&&(e.left=t.startLeft),"horizontal"===this.data.axis&&(e.top=t.startTop),e}});e["default"]=u},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var o=a(15),i=n(o);e.Slider=i["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),i=(a(8),a(4)),r=a(16),s=n(r),d=o.Component.extend({name:"slider",template:s["default"],config:function(){this.defaults({value:0,min:0,max:100,step:0,_grid:{x:0,y:0}}),this.supr(),this.watch()},watch:function(){var t=this;this.$watch("value",function(e,a){t.$emit("change",{sender:t,value:e})})},computed:{percent:{get:function(){return(this.data.value-this.data.min)/(this.data.max-this.data.min)*100},set:function(t){var e=+this.data.min+(this.data.max-this.data.min)*t/100;this.data.step&&(e=Math.round(e/this.data.step)*this.data.step),this.data.value=e}}},_onMouseDown:function(t){if(!this.data.readonly&&!this.data.disabled){var e=t.event,a=this.$refs.handle,n=a.offsetParent,o=i.dom.getDimension(n,"center");this.$set("percent",(e.clientX-o.left)/o.width*100)}},_onDragStart:function(t){this.data._grid.x=this.data.step/(this.data.max-this.data.min)*t.range.width},_onDrag:function(t){this.$set("percent",t.left/t.range.width*100)}});e["default"]=d},function(t,e){t.exports=[{type:"element",tag:"movable",attrs:[{type:"attribute",name:"disabled",value:{type:"expression",body:"c._sg_('readonly', d, e)||c._sg_('disabled', d, e)",constant:!1,setbody:!1}},{type:"attribute",name:"proxy",value:{type:"expression",body:"c._sg_('handle', c._sg_('$refs', c))",constant:!1,setbody:"c._ss_('handle',p_,c._sg_('$refs', c), '=', 0)"}},{type:"attribute",name:"axis",value:"horizontal"},{type:"attribute",name:"grid",value:{type:"expression",body:"c._sg_('_grid', d, e)",constant:!1,setbody:"c._ss_('_grid',p_,d, '=', 1)"}},{type:"attribute",name:"range",value:"offsetParent"},{type:"attribute",name:"rangeMode",value:"center"},{type:"attribute",name:"on-dragstart",value:{type:"expression",body:"c['_onDragStart'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-drag",value:{type:"expression",body:"c['_onDrag'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n"},{type:"element",tag:"div",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-slider ',c._sg_('class', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"z-dis",value:{type:"expression",body:"c._sg_('disabled', d, e)",constant:!1,setbody:"c._ss_('disabled',p_,d, '=', 1)"}},{type:"attribute",name:"r-hide",value:{type:"expression",body:"(!c._sg_('visible', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-mousedown",value:{type:"expression",body:"c['_onMouseDown'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n    "},{type:"element",tag:"div",attrs:[{type:"attribute",name:"class",value:"slider_track"}],children:[{type:"text",text:"\n        "},{type:"element",tag:"div",attrs:[{type:"attribute",name:"class",value:"slider_trail"},{type:"attribute",name:"style",value:{type:"expression",body:"['width: ',c._sg_('percent', d, e),'%'].join('')",constant:!1,setbody:!1}}],children:[]},{type:"text",text:"\n    "}]},{type:"text",text:"\n    "},{type:"element",tag:"div",attrs:[{type:"attribute",name:"class",value:"slider_handle"},{type:"attribute",name:"ref",value:"handle"},{type:"attribute",name:"style",value:{type:"expression",body:"['left: ',c._sg_('percent', d, e),'%'].join('')",constant:!1,setbody:!1}}],children:[]},{type:"text",text:"\n"}]},{type:"text",text:"\n"}]}]}])});